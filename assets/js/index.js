const starsContainer=document.getElementById("stars"),world=document.getElementById("world"),NUM_STARS=1e3,STAR_RANGE=5e3;for(let e=0;e<1e3;e++){const e=document.createElement("div");e.className="star";const t=5e3*(Math.random()-.5),s=5e3*(Math.random()-.5),n=5e3*(Math.random()-.5);e.style.transform=`translate3d(${t}px, ${s}px, ${n}px)`,starsContainer.appendChild(e)}const items=["🌟","💫","♌","✨","🎈","💖","🌹","🦐","🥭","💐","💓","21/08/2003","Love youuu","Sinh nhật ngoan xinh iu","Thanks for being my sunshine","You are amazing","<3","Love you to the moon","My heart beats for youuu","You make my heart smile",'<img src="./assets/img/1.jpg" class="img-main" width="128" />','<img src="./assets/img/2.jpg" class="img-main" width="128" />','<img src="./assets/img/3.jpg" class="img-main" width="128" />','<img src="./assets/img/4.jpg" class="img-main" width="128" />','<img src="./assets/img/5.jpg" class="img-main" width="128" />','<img src="./assets/img/6.jpg" class="img-main" width="128" />','<img src="./assets/img/7.jpg" class="img-main" width="128" />','<img src="./assets/img/8.jpg" class="img-main" width="128" />','<img src="./assets/img/9.jpg" class="img-main" width="128" />','<img src="./assets/img/10.jpg" class="img-main" width="128" />'],layers=[{class:"layer-1",speed:3,depth:-200},{class:"layer-2",speed:4,depth:-100},{class:"layer-3",speed:5,depth:0},{class:"layer-4",speed:6,depth:100}],screenWidth=window.innerWidth;let screenHeight=window.visualViewport?window.visualViewport.height:window.innerHeight;const fallingElements=[];let scale=1,rotationX=0,rotationY=15,offsetX=0,offsetY=0;function createFallingItem(){const e=layers[Math.floor(Math.random()*layers.length)],t=items[Math.floor(Math.random()*items.length)],s=document.createElement("div");s.className=`falling-item ${e.class}`,s.innerHTML=t;const n=(Math.random()-.5)*screenWidth,a=e.depth;s.style.transform=`translate(-50%, -50%) translate3d(${n}px, -50px, ${a}px)`,world.appendChild(s),requestAnimationFrame((()=>{s.style.opacity=1})),fallingElements.push({el:s,x:n,y:-50,z:a,speed:e.speed})}function updateTransform(){world.style.transform=`\n    translate(${offsetX}px, ${offsetY}px)\n    scale(${scale})\n    rotateX(${rotationX}deg)\n    rotateY(${rotationY}deg)\n  `,starsContainer.style.transform=`\n    translate(${offsetX}px, ${offsetY}px)\n    rotateX(${rotationX}deg)\n    rotateY(${rotationY}deg)\n  `}function animate(){for(let e=fallingElements.length-1;e>=0;e--){const t=fallingElements[e];t.y+=t.speed,t.el.style.transform=`translate3d(${t.x}px, ${t.y}px, ${t.z}px)`,t.y>screenHeight+100&&(t.el.style.opacity=0,setTimeout((()=>{t.el.remove()}),1e3),fallingElements.splice(e,1))}requestAnimationFrame(animate)}setInterval((()=>{for(let e=0;e<1.05;e++)createFallingItem()}),300),animate(),document.addEventListener("wheel",(e=>{e.preventDefault();const t=scale;scale+=-.001*e.deltaY,scale=Math.min(Math.max(.2,scale),3);const s=world.getBoundingClientRect(),n=e.clientX-s.left,a=e.clientY-s.top,i=n-offsetX-s.width/2,o=a-offsetY-s.height/2,l=scale/t;offsetX-=i*(l-1),offsetY-=o*(l-1),updateTransform()}),{passive:!1}),document.addEventListener("contextmenu",(e=>e.preventDefault())),document.addEventListener("keydown",(function(e){("F12"===e.key||e.ctrlKey&&e.shiftKey&&"i"===e.key.toLowerCase()||e.ctrlKey&&"u"===e.key.toLowerCase())&&e.preventDefault()}));let isLeftDragging=!1,isRightDragging=!1,lastX=0,lastY=0;document.addEventListener("mousedown",(e=>{lastX=e.clientX,lastY=e.clientY,0===e.button&&(isLeftDragging=!0),2===e.button&&(isRightDragging=!0)})),document.addEventListener("mouseup",(e=>{0===e.button&&(isLeftDragging=!1),2===e.button&&(isRightDragging=!1)})),document.addEventListener("mousemove",(e=>{const t=e.clientX-lastX,s=e.clientY-lastY;isLeftDragging&&(rotationY+=.3*t,rotationX-=.3*s),isRightDragging&&(offsetX+=t,offsetY+=s),updateTransform(),lastX=e.clientX,lastY=e.clientY}));const bgMusic=document.getElementById("bg-music");let pressTimer;window.addEventListener("DOMContentLoaded",(()=>{Swal.fire({title:"Hi my babe!",html:'\n        <p>♌Tutorial:</p>\n        <ul style="text-align:left; list-style: none;">\n          <li>🖱 Nhấn thả chuột trái: Xoay</li>\n          <li>🖱 Cuộn: Zoom</li>\n          <li>🖱 Chuột phải: Di chuyển</li>\n          <li>🖱 Nhấn giữ chuột trái: ...</li>\n        </ul>\n      ',confirmButtonText:"Oce aiu :3",allowOutsideClick:!0,allowEscapeKey:!0}).then((e=>{(e.isConfirmed||e.isDismissed)&&bgMusic.play().catch((e=>{alert("Trình duyệt chặn âm thanh. Vui lòng thử click lại."),console.error(e)}))}))}));const frame=document.getElementById("heartFrame");function showHeartFrame(){frame.style.display="block",setTimeout((()=>{frame.style.opacity=1}),10)}document.addEventListener("mousedown",(function(e){0===e.button&&(pressTimer=setTimeout(showHeartFrame,500))})),document.addEventListener("mouseup",(function(){clearTimeout(pressTimer)})),document.addEventListener("touchstart",(function(){pressTimer=setTimeout(showHeartFrame,500)})),document.addEventListener("touchend",(function(){clearTimeout(pressTimer)}));